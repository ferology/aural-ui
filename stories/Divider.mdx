import { Canvas, Meta, Story } from '@storybook/blocks';
import * as DividerStories from './Divider.stories';

<Meta of={DividerStories} />

# Divider

Visual separators to organize and structure content sections, creating clear visual hierarchy in your layouts.

## Overview

The Divider component provides a simple yet effective way to separate content visually. It helps organize information into logical sections, making interfaces easier to scan and understand.

**Key Features:**
- Horizontal and vertical orientations
- Multiple visual styles (solid, dashed, dotted)
- Text labels for contextual separation
- Flexible spacing options
- Semantic HTML support with `<hr>`
- Full WCAG AAA compliance

---

## Interactive Demo

<Canvas of={DividerStories.Default} />

---

## Usage

### Vanilla JavaScript / HTML

```html
<!-- Basic horizontal divider -->
<hr class="divider">

<!-- Dashed divider -->
<hr class="divider divider-dashed">

<!-- Dotted divider -->
<hr class="divider divider-dotted">

<!-- With text label -->
<div class="divider divider-with-text">
  <span>OR</span>
</div>

<!-- Vertical divider -->
<div style="display: flex; align-items: center; gap: var(--space-4);">
  <span>Item 1</span>
  <hr class="divider divider-vertical" role="separator" aria-orientation="vertical">
  <span>Item 2</span>
</div>

<!-- With spacing variants -->
<hr class="divider divider-sm">  <!-- Small spacing -->
<hr class="divider">              <!-- Default spacing -->
<hr class="divider divider-lg">   <!-- Large spacing -->
<hr class="divider divider-xl">   <!-- Extra large spacing -->
```

### React

```jsx
// Basic usage
import './aural-ui.css';
import './dark.css'; // or your chosen theme

function MyComponent() {
  return (
    <div>
      <p>Section one content</p>
      <hr className="divider" />
      <p>Section two content</p>
    </div>
  );
}

// Reusable component
function Divider({
  variant = 'solid',
  orientation = 'horizontal',
  spacing = 'default',
  text,
  className = '',
  ...props
}) {
  // With text
  if (text) {
    const classes = [
      'divider',
      'divider-with-text',
      spacing !== 'default' && `divider-${spacing}`,
      className
    ].filter(Boolean).join(' ');

    return (
      <div className={classes} {...props}>
        <span>{text}</span>
      </div>
    );
  }

  // Regular divider
  const classes = [
    'divider',
    orientation === 'vertical' && 'divider-vertical',
    variant !== 'solid' && `divider-${variant}`,
    spacing !== 'default' && `divider-${spacing}`,
    className
  ].filter(Boolean).join(' ');

  const ariaProps = orientation === 'vertical'
    ? { role: 'separator', 'aria-orientation': 'vertical' }
    : {};

  return <hr className={classes} {...ariaProps} {...props} />;
}

// Usage examples
<Divider />
<Divider variant="dashed" />
<Divider text="OR" />
<Divider spacing="lg" />

// Vertical divider in toolbar
<div style={{ display: 'flex', alignItems: 'center', gap: 'var(--space-4)' }}>
  <span>Left</span>
  <Divider orientation="vertical" />
  <span>Right</span>
</div>

// Form sections
function SignupForm() {
  return (
    <form>
      <input type="email" placeholder="Email" className="input" />
      <input type="password" placeholder="Password" className="input" />

      <Divider text="OR" spacing="lg" />

      <button className="btn btn-secondary">Sign in with Google</button>
    </form>
  );
}
```

### Vue 3

```vue
<template>
  <div>
    <!-- With text -->
    <div v-if="text" :class="containerClasses">
      <span>{{ text }}</span>
    </div>

    <!-- Regular divider -->
    <hr v-else :class="dividerClasses" v-bind="ariaProps" />
  </div>
</template>

<script setup>
import { computed } from 'vue';

const props = defineProps({
  variant: {
    type: String,
    default: 'solid',
    validator: (value) => ['solid', 'dashed', 'dotted'].includes(value)
  },
  orientation: {
    type: String,
    default: 'horizontal',
    validator: (value) => ['horizontal', 'vertical'].includes(value)
  },
  spacing: {
    type: String,
    default: 'default',
    validator: (value) => ['default', 'sm', 'lg', 'xl'].includes(value)
  },
  text: {
    type: String,
    default: ''
  }
});

const containerClasses = computed(() => [
  'divider',
  'divider-with-text',
  props.spacing !== 'default' && `divider-${props.spacing}`
].filter(Boolean));

const dividerClasses = computed(() => [
  'divider',
  props.orientation === 'vertical' && 'divider-vertical',
  props.variant !== 'solid' && `divider-${props.variant}`,
  props.spacing !== 'default' && `divider-${props.spacing}`
].filter(Boolean));

const ariaProps = computed(() =>
  props.orientation === 'vertical'
    ? { role: 'separator', 'aria-orientation': 'vertical' }
    : {}
);
</script>

<!-- Usage -->
<Divider />
<Divider variant="dashed" />
<Divider text="OR" />

<!-- Vertical in flex layout -->
<div style="display: flex; align-items: center; gap: var(--space-4);">
  <span>Left</span>
  <Divider orientation="vertical" />
  <span>Right</span>
</div>
```

### Svelte

```svelte
<script>
  export let variant = 'solid';
  export let orientation = 'horizontal';
  export let spacing = 'default';
  export let text = '';

  $: containerClasses = [
    'divider',
    'divider-with-text',
    spacing !== 'default' && `divider-${spacing}`
  ].filter(Boolean).join(' ');

  $: dividerClasses = [
    'divider',
    orientation === 'vertical' && 'divider-vertical',
    variant !== 'solid' && `divider-${variant}`,
    spacing !== 'default' && `divider-${spacing}`
  ].filter(Boolean).join(' ');

  $: ariaProps = orientation === 'vertical'
    ? { role: 'separator', 'aria-orientation': 'vertical' }
    : {};
</script>

{#if text}
  <div class={containerClasses}>
    <span>{text}</span>
  </div>
{:else}
  <hr class={dividerClasses} {...ariaProps} />
{/if}

<!-- Usage -->
<Divider />
<Divider variant="dashed" />
<Divider text="OR" />

<!-- Vertical -->
<div style="display: flex; align-items: center; gap: var(--space-4);">
  <span>Left</span>
  <Divider orientation="vertical" />
  <span>Right</span>
</div>
```

---

## Variants

### Visual Styles

Different visual styles for various emphasis levels and design contexts.

<Canvas of={DividerStories.AllVariants} />

**When to use:**
- **Solid**: Primary content separation, default choice for most use cases
- **Dashed**: Less prominent separation, secondary dividers
- **Dotted**: Subtle visual breaks, tertiary separation

### Dashed Divider

<Canvas of={DividerStories.Dashed} />

Use dashed dividers for less prominent content separation or to create visual hierarchy between primary (solid) and tertiary (dotted) dividers.

### Dotted Divider

<Canvas of={DividerStories.Dotted} />

Dotted dividers provide the most subtle separation, perfect for fine-grained content organization without drawing too much attention.

---

## Orientations

### Horizontal

The default orientation for separating vertically stacked content.

```html
<section>
  <p>First section</p>
  <hr class="divider">
  <p>Second section</p>
</section>
```

### Vertical

<Canvas of={DividerStories.Vertical} />

Vertical dividers separate horizontally arranged items like navigation menus, breadcrumbs, or toolbar buttons.

**Important:** Always wrap vertical dividers in a flex container and add appropriate ARIA attributes.

```html
<div style="display: flex; align-items: center; gap: var(--space-4);">
  <span>Item 1</span>
  <hr class="divider divider-vertical" role="separator" aria-orientation="vertical">
  <span>Item 2</span>
</div>
```

---

## With Labels

<Canvas of={DividerStories.WithLabel} />

Dividers with text labels provide context for the separation, commonly used in authentication flows, forms, and sectioned content.

```html
<!-- OR separator (common in auth forms) -->
<div class="divider divider-with-text">
  <span>OR</span>
</div>

<!-- Form section separator -->
<div class="divider divider-with-text">
  <span>Optional Information</span>
</div>

<!-- Continue with -->
<div class="divider divider-with-text">
  <span>Continue with</span>
</div>
```

---

## Spacing

<Canvas of={DividerStories.Spacing} />

Different spacing options to match your content density and visual hierarchy needs.

| Modifier | Spacing | Use Case |
|----------|---------|----------|
| `divider-sm` | Small | Dense content, lists, compact layouts |
| Default | Medium | Standard content sections |
| `divider-lg` | Large | Major section breaks, emphasized separation |
| `divider-xl` | Extra Large | Chapter breaks, dramatic section changes |

```html
<hr class="divider divider-sm">   <!-- 1rem vertical margin -->
<hr class="divider">              <!-- 1.5rem vertical margin -->
<hr class="divider divider-lg">   <!-- 2rem vertical margin -->
<hr class="divider divider-xl">   <!-- 3rem vertical margin -->
```

---

## Common Patterns

### Content Sections

<Canvas of={DividerStories.InContent} />

Use dividers to separate distinct sections of related content, like article sections or documentation pages.

```html
<article>
  <section>
    <h3>Introduction</h3>
    <p>Content...</p>
  </section>

  <hr class="divider">

  <section>
    <h3>Main Content</h3>
    <p>Content...</p>
  </section>

  <hr class="divider">

  <section>
    <h3>Conclusion</h3>
    <p>Content...</p>
  </section>
</article>
```

### List Separators

<Canvas of={DividerStories.InList} />

Separate items in menus, option lists, or navigation groups. Use compact spacing for dense lists.

```html
<nav>
  <a href="/dashboard">Dashboard</a>
  <hr class="divider divider-sm">
  <a href="/settings">Settings</a>
  <hr class="divider divider-sm">
  <a href="/profile">Profile</a>
</nav>
```

### Toolbar Groups

<Canvas of={DividerStories.InToolbar} />

Vertical dividers group related actions in toolbars, button bars, or command palettes.

```html
<div class="toolbar">
  <!-- Text formatting -->
  <button>Bold</button>
  <button>Italic</button>

  <hr class="divider divider-vertical" role="separator" aria-orientation="vertical">

  <!-- Alignment -->
  <button>Align Left</button>
  <button>Align Center</button>

  <hr class="divider divider-vertical" role="separator" aria-orientation="vertical">

  <!-- Insert -->
  <button>Link</button>
  <button>Image</button>
</div>
```

---

## Theme Comparison

See how dividers look across all Aural UI themes:

<Canvas of={DividerStories.ThemeComparison} />

---

## Accessibility

### Semantic HTML

Use the semantic `<hr>` element for horizontal dividers representing thematic breaks in content. Screen readers will announce this as "separator" or "horizontal rule."

```html
<!-- Semantic thematic break -->
<section>
  <h2>Chapter One</h2>
  <p>Content...</p>
</section>

<hr class="divider">

<section>
  <h2>Chapter Two</h2>
  <p>Content...</p>
</section>
```

### ARIA Attributes

For vertical dividers or when using dividers in interactive components, add appropriate ARIA attributes:

```html
<!-- Vertical separator in toolbar -->
<hr class="divider divider-vertical"
    role="separator"
    aria-orientation="vertical">

<!-- If the divider is purely decorative -->
<div class="divider" aria-hidden="true"></div>
```

### Color Contrast

All divider styles meet WCAG AAA contrast requirements:
- Dividers have at least 3:1 contrast ratio with backgrounds
- Text labels in dividers maintain 7:1 contrast ratio
- High contrast theme provides enhanced visibility

### Best Practices

**Do:**
- Use semantic `<hr>` for thematic breaks in content
- Add `role="separator"` and `aria-orientation="vertical"` for vertical dividers
- Ensure adequate spacing around dividers for readability
- Use dividers to create clear visual hierarchy
- Combine with proper heading structure

**Don't:**
- Rely solely on dividers to convey structure (use headings too)
- Overuse dividers - whitespace can be equally effective
- Use dividers as the only way to distinguish sections
- Forget to test divider visibility across themes
- Use very thin dividers (under 1px) that may be invisible on some displays

### When NOT to Use Dividers

Consider alternatives in these cases:
- **Borders**: For container edges, use CSS borders instead
- **Whitespace**: When content is already clearly separated
- **Grid gaps**: In grid/flex layouts, use gap properties
- **Background colors**: For major section breaks, consider background changes

---

## Use Cases

### Authentication Forms

```html
<form>
  <input type="email" placeholder="Email" class="input">
  <input type="password" placeholder="Password" class="input">
  <button class="btn btn-primary">Sign In</button>

  <div class="divider divider-with-text">
    <span>OR</span>
  </div>

  <button class="btn btn-secondary">Continue with Google</button>
  <button class="btn btn-secondary">Continue with GitHub</button>
</form>
```

### Form Sections

```html
<form>
  <!-- Required fields -->
  <input type="text" placeholder="Name" class="input">
  <input type="email" placeholder="Email" class="input">

  <div class="divider divider-with-text">
    <span>Optional Information</span>
  </div>

  <!-- Optional fields -->
  <input type="tel" placeholder="Phone" class="input">
  <input type="text" placeholder="Company" class="input">
</form>
```

### Navigation Breadcrumbs

```html
<nav aria-label="Breadcrumb">
  <ol style="display: flex; align-items: center; list-style: none; gap: var(--space-2);">
    <li><a href="/">Home</a></li>
    <li><hr class="divider divider-vertical" role="separator" aria-orientation="vertical"></li>
    <li><a href="/products">Products</a></li>
    <li><hr class="divider divider-vertical" role="separator" aria-orientation="vertical"></li>
    <li aria-current="page">Item Details</li>
  </ol>
</nav>
```

### Card Sections

```html
<div class="card">
  <div class="card-header">
    <h3>User Profile</h3>
  </div>

  <hr class="divider divider-sm">

  <div class="card-body">
    <p>Personal information...</p>
  </div>

  <hr class="divider divider-sm">

  <div class="card-footer">
    <button class="btn btn-primary">Save</button>
  </div>
</div>
```

---

## API Reference

### CSS Classes

| Class | Description |
|-------|-------------|
| `.divider` | Base divider class (required) |
| `.divider-vertical` | Vertical orientation |
| `.divider-with-text` | Container for divider with text label |
| `.divider-dashed` | Dashed style |
| `.divider-dotted` | Dotted style |
| `.divider-sm` | Small spacing |
| `.divider-lg` | Large spacing |
| `.divider-xl` | Extra large spacing |

### HTML Elements

| Element | Usage |
|---------|-------|
| `<hr class="divider">` | Semantic thematic break (recommended) |
| `<div class="divider-with-text">` | Divider with text label |

### ARIA Attributes

| Attribute | Value | When to Use |
|-----------|-------|-------------|
| `role` | `"separator"` | For vertical dividers or decorative separators |
| `aria-orientation` | `"vertical"` | Required for vertical dividers |
| `aria-hidden` | `"true"` | For purely decorative dividers |

### CSS Custom Properties

Dividers use these CSS custom properties from the theme:

| Property | Purpose |
|----------|---------|
| `--color-divider` | Divider line color |
| `--color-divider-text` | Text label color in dividers |
| `--space-*` | Spacing around dividers |

---

## Related Components

- **Card**: Use dividers to separate card sections
- **Layout**: Combine with layout components for content organization
- **Navigation**: Use vertical dividers in navigation menus
- **Form**: Separate form sections with labeled dividers
