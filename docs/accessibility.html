<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Accessibility - Aural UI</title>

    <!-- Aural UI CSS -->
    <link rel="stylesheet" href="./aural-ui.css?v=9">

    <!-- Theme CSS -->
    <link rel="stylesheet" href="./dark.css" id="theme-link">

    <!-- Enhanced Documentation Styles -->
    <link rel="stylesheet" href="./styles/doc-enhanced.css">

    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <style>
        body {
            margin: 0;
            padding: 0;
            min-height: 100vh;
        }

        /* Main Content */
        .main-content {
            max-width: 900px;
            margin: 0 auto;
            padding: var(--space-8);
            min-height: 100vh;
        }

        .page-header {
            margin-bottom: var(--space-8);
        }

        .page-title {
            font-size: var(--text-3xl);
            font-weight: var(--font-bold);
            color: var(--color-text-primary);
            margin: 0 0 var(--space-4) 0;
        }

        .page-description {
            font-size: var(--text-lg);
            color: var(--color-text-secondary);
            line-height: 1.8;
            margin: 0;
        }

        .content-section {
            margin-bottom: var(--space-8);
        }

        .section-title {
            font-size: var(--text-2xl);
            font-weight: var(--font-semibold);
            color: var(--color-text-primary);
            margin: 0 0 var(--space-4) 0;
        }

        .section-content {
            font-size: var(--text-base);
            color: var(--color-text-secondary);
            line-height: 1.8;
        }

        .section-content h3 {
            font-size: var(--text-xl);
            font-weight: var(--font-semibold);
            color: var(--color-text-primary);
            margin: var(--space-6) 0 var(--space-3) 0;
        }

        .section-content p {
            margin: 0 0 var(--space-4) 0;
        }

        .section-content ul, .section-content ol {
            margin: 0 0 var(--space-4) 0;
            padding-left: var(--space-6);
        }

        .section-content li {
            margin-bottom: var(--space-2);
        }

        .section-content code {
            background: var(--color-bg-tertiary);
            padding: 2px 6px;
            border-radius: var(--radius-sm);
            font-size: 0.9em;
        }

        .section-content pre {
            background: var(--color-bg-tertiary);
            padding: var(--space-4);
            border-radius: var(--radius-md);
            overflow-x: auto;
            margin: var(--space-4) 0;
        }

        .section-content pre code {
            background: none;
            padding: 0;
        }

        /* Theme Toggle */
        .theme-toggle {
            position: fixed;
            top: var(--space-6);
            right: var(--space-6);
            z-index: 200;
        }

        /* Mobile Styles */
        @media (max-width: 768px) {
            .main-content {
                padding: var(--space-6) var(--space-4);
            }

            .page-title {
                font-size: var(--text-2xl);
            }

            .page-description {
                font-size: var(--text-base);
            }

            .section-title {
                font-size: var(--text-xl);
            }

            .theme-toggle {
                top: var(--space-4);
                right: var(--space-4);
            }
        }
    </style>
</head>
<body>
    <a href="#main-content" class="skip-link">Skip to main content</a>
    <!-- Main Content -->
    <main class="main-content" id="main-content">
        <div class="page-header">
            <div class="page-title page-heading-lg">Accessibility</div>
            <p class="page-description">Accessibility is not an afterthought. Every component in Aural UI is built from the ground up with accessibility in mind, ensuring your applications are usable by everyone.</p>
        </div>

        <div class="content-section">
            <div class="card" style="padding: var(--space-6); margin-bottom: var(--space-3);">
                <div class="page-subheading">
                    Our Accessibility Commitments
                </div>
                <ul style="list-style: none; padding: 0; margin: 0;">
                    <li style="padding: var(--space-3) 0; border-bottom: 1px solid var(--color-border-subtle); display: flex; align-items: start; gap: var(--space-3);">
                        <i data-lucide="check-circle" style="width: 20px; height: 20px; color: var(--color-success); flex-shrink: 0; margin-top: 2px;"></i>
                        <div>
                            <strong style="color: var(--color-text-primary);">WCAG 2.1 AA Compliant</strong>
                            <p style="margin: var(--space-1) 0 0 0; color: var(--color-text-secondary); font-size: var(--text-sm);">
                                All components meet or exceed WCAG 2.1 Level AA standards
                            </p>
                        </div>
                    </li>
                    <li style="padding: var(--space-3) 0; border-bottom: 1px solid var(--color-border-subtle); display: flex; align-items: start; gap: var(--space-3);">
                        <i data-lucide="check-circle" style="width: 20px; height: 20px; color: var(--color-success); flex-shrink: 0; margin-top: 2px;"></i>
                        <div>
                            <strong style="color: var(--color-text-primary);">Keyboard Navigation</strong>
                            <p style="margin: var(--space-1) 0 0 0; color: var(--color-text-secondary); font-size: var(--text-sm);">
                                Full keyboard support with logical tab order and focus management
                            </p>
                        </div>
                    </li>
                    <li style="padding: var(--space-3) 0; border-bottom: 1px solid var(--color-border-subtle); display: flex; align-items: start; gap: var(--space-3);">
                        <i data-lucide="check-circle" style="width: 20px; height: 20px; color: var(--color-success); flex-shrink: 0; margin-top: 2px;"></i>
                        <div>
                            <strong style="color: var(--color-text-primary);">Screen Reader Support</strong>
                            <p style="margin: var(--space-1) 0 0 0; color: var(--color-text-secondary); font-size: var(--text-sm);">
                                Proper ARIA labels, roles, and live regions for assistive technologies
                            </p>
                        </div>
                    </li>
                    <li style="padding: var(--space-3) 0; display: flex; align-items: start; gap: var(--space-3);">
                        <i data-lucide="check-circle" style="width: 20px; height: 20px; color: var(--color-success); flex-shrink: 0; margin-top: 2px;"></i>
                        <div>
                            <strong style="color: var(--color-text-primary);">Color Contrast</strong>
                            <p style="margin: var(--space-1) 0 0 0; color: var(--color-text-secondary); font-size: var(--text-sm);">
                                Minimum 4.5:1 contrast ratio for all text and interactive elements
                            </p>
                        </div>
                    </li>
                </ul>
            </div>
        </div>

        <div class="content-section">
            <div class="section-title page-heading">Understanding Accessibility in Aural UI</div>
            <div class="section-content">
                <p>Accessibility in Aural UI is a <strong>shared responsibility</strong> between the framework (CSS) and developers (HTML/ARIA). Understanding what each provides is crucial for building truly accessible applications.</p>
            </div>
        </div>

        <div class="content-section">
            <div class="section-title page-heading">What Aural UI CSS Provides Automatically</div>
            <div class="section-content">
                <p>When you use Aural UI CSS, these accessibility features are <strong>automatically included</strong>:</p>

                <div class="page-subheading">Mobile Responsiveness</div>
                <ul>
                    <li><strong>Responsive breakpoints:</strong> Media queries adapt layouts for all screen sizes</li>
                    <li><strong>Fluid typography:</strong> Text scales appropriately across devices</li>
                    <li><strong>Flexible layouts:</strong> Components reflow naturally on smaller screens</li>
                    <li><strong>Viewport optimization:</strong> Content fits properly without horizontal scrolling</li>
                </ul>

                <div class="page-subheading">Visual Accessibility</div>
                <ul>
                    <li><strong>Color contrast:</strong> All color tokens meet WCAG AA standards (4.5:1 for text, 3:1 for UI components)</li>
                    <li><strong>Focus indicators:</strong> Visible <code>:focus</code> and <code>:focus-visible</code> states on all interactive elements</li>
                    <li><strong>Hover states:</strong> Clear visual feedback for mouse interactions</li>
                    <li><strong>Touch targets:</strong> Interactive elements sized for comfortable touch (minimum 44×44px)</li>
                    <li><strong>Consistent spacing:</strong> Adequate whitespace prevents accidental interactions</li>
                </ul>

                <div class="page-subheading">Example: CSS Provides Visual Focus</div>
                <pre><code>/* This styling is already in Aural UI CSS */
.btn:focus-visible {
    outline: 2px solid var(--color-primary);
    outline-offset: 2px;
}</code></pre>
            </div>
        </div>

        <div class="content-section">
            <div class="section-title page-heading">What Developers Must Add (ARIA Attributes)</div>
            <div class="section-content">
                <p>CSS <strong>cannot</strong> provide semantic meaning to assistive technologies. You must add these HTML attributes:</p>

                <div class="page-subheading">ARIA Roles</div>
                <ul>
                    <li><strong><code>role="status"</code>:</strong> For loading indicators and live updates</li>
                    <li><strong><code>role="alert"</code>:</strong> For important error messages</li>
                    <li><strong><code>role="list"</code> / <code>role="listitem"</code>:</strong> For non-semantic lists</li>
                    <li><strong><code>role="separator"</code>:</strong> For dividers and visual separators</li>
                    <li><strong><code>role="toolbar"</code>:</strong> For grouped action buttons</li>
                </ul>

                <div class="page-subheading">ARIA Labels</div>
                <ul>
                    <li><strong><code>aria-label</code>:</strong> Provides text for screen readers when none exists visually</li>
                    <li><strong><code>aria-labelledby</code>:</strong> Links elements to their labels</li>
                    <li><strong><code>aria-describedby</code>:</strong> Provides additional context</li>
                </ul>

                <div class="page-subheading">ARIA States</div>
                <ul>
                    <li><strong><code>aria-busy="true"</code>:</strong> Indicates elements are loading</li>
                    <li><strong><code>aria-expanded</code>:</strong> Shows collapsed/expanded state</li>
                    <li><strong><code>aria-selected</code>:</strong> Indicates selected items in lists</li>
                    <li><strong><code>aria-hidden</code>:</strong> Hides decorative elements from screen readers</li>
                </ul>

                <div class="page-subheading">Example: Developer Must Add ARIA</div>
                <pre><code>&lt;!-- ❌ NOT Accessible (only visual) --&gt;
&lt;div class="aural-spinner aural-spinner--primary"&gt;
    &lt;div class="aural-spinner__circle"&gt;&lt;/div&gt;
&lt;/div&gt;

&lt;!-- ✅ Accessible (visual + semantic) --&gt;
&lt;div class="aural-spinner aural-spinner--primary"
     role="status"
     aria-label="Loading content"&gt;
    &lt;div class="aural-spinner__circle"&gt;&lt;/div&gt;
&lt;/div&gt;</code></pre>
            </div>
        </div>

        <div class="content-section">
            <div class="section-title page-heading">Component-Specific ARIA Requirements</div>
            <div class="section-content">
                <p>Each component type requires specific ARIA attributes. Here's a quick reference:</p>

                <div class="page-subheading">Spinners / Loading Indicators</div>
                <pre><code>&lt;div class="aural-spinner aural-spinner--primary"
     role="status"
     aria-label="Loading"&gt;
    &lt;div class="aural-spinner__circle"&gt;&lt;/div&gt;
&lt;/div&gt;

&lt;!-- Loading buttons --&gt;
&lt;button class="btn btn-primary" disabled aria-busy="true"&gt;
    &lt;span class="aural-spinner aural-spinner--xs" role="status" aria-label="Saving"&gt;
        &lt;span class="aural-spinner__circle"&gt;&lt;/span&gt;
    &lt;/span&gt;
    Saving...
&lt;/button&gt;</code></pre>

                <div class="page-subheading">Chips / Tags</div>
                <pre><code>&lt;div class="aural-chips-list" role="list"&gt;
    &lt;div class="aural-chip" role="listitem"&gt;
        &lt;span class="aural-chip__text"&gt;JavaScript&lt;/span&gt;
        &lt;button class="aural-chip__remove"
                aria-label="Remove JavaScript"&gt;&lt;/button&gt;
    &lt;/div&gt;
&lt;/div&gt;</code></pre>

                <div class="page-subheading">Tooltips</div>
                <pre><code>&lt;!-- Icon buttons need aria-label --&gt;
&lt;button class="btn btn-icon"
        data-tooltip="Edit item"
        aria-label="Edit"&gt;
    &lt;i data-lucide="edit-2"&gt;&lt;/i&gt;
&lt;/button&gt;

&lt;!-- Status indicators --&gt;
&lt;span style="..."
      data-tooltip="Service operational"
      role="status"
      aria-label="Service operational"&gt;&lt;/span&gt;</code></pre>

                <div class="page-subheading">Dividers</div>
                <pre><code>&lt;!-- Horizontal dividers (semantic break) --&gt;
&lt;hr class="divider"&gt;

&lt;!-- Vertical dividers (decorative) --&gt;
&lt;hr class="divider divider-vertical"
    role="separator"
    aria-orientation="vertical"&gt;</code></pre>

                <div class="page-subheading">Code Blocks</div>
                <pre><code>&lt;div class="aural-code-block"&gt;
    &lt;div class="aural-code-block__header"&gt;
        &lt;span class="aural-code-block__language"
              aria-label="Code language"&gt;JavaScript&lt;/span&gt;
        &lt;button class="aural-code-block__copy"
                aria-label="Copy code to clipboard"&gt;
            Copy
        &lt;/button&gt;
    &lt;/div&gt;
    &lt;div class="aural-code-block__content"&gt;
        &lt;pre&gt;&lt;code&gt;...&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;
&lt;/div&gt;</code></pre>
            </div>
        </div>

        <div class="content-section">
            <div class="section-title page-heading">Accessibility Checklist</div>
            <div class="section-content">
                <p>Use this checklist when implementing Aural UI components:</p>

                <div class="page-subheading">Visual Accessibility (CSS Handles)</div>
                <ul>
                    <li>✅ Color contrast meets WCAG AA standards</li>
                    <li>✅ Focus states are visible on all interactive elements</li>
                    <li>✅ Components are responsive on mobile devices</li>
                    <li>✅ Touch targets meet 44×44px minimum</li>
                </ul>

                <div class="page-subheading">Semantic Accessibility (Your Responsibility)</div>
                <ul>
                    <li>⚠️ Add <code>role</code> attributes where needed</li>
                    <li>⚠️ Add <code>aria-label</code> to icon-only buttons</li>
                    <li>⚠️ Add <code>aria-busy</code> to loading states</li>
                    <li>⚠️ Add <code>aria-live</code> regions for dynamic content</li>
                    <li>⚠️ Ensure proper semantic HTML (<code>&lt;button&gt;</code> not <code>&lt;div&gt;</code>)</li>
                    <li>⚠️ Test with keyboard navigation (Tab, Enter, Escape)</li>
                    <li>⚠️ Test with screen readers (NVDA, JAWS, VoiceOver)</li>
                </ul>
            </div>
        </div>

        <div class="content-section">
            <div class="section-title page-heading">Testing Your Implementation</div>
            <div class="section-content">
                <div class="page-subheading">Automated Testing</div>
                <ul>
                    <li><strong>axe DevTools:</strong> Browser extension for automated accessibility testing</li>
                    <li><strong>Lighthouse:</strong> Chrome DevTools accessibility audit</li>
                    <li><strong>WAVE:</strong> Web accessibility evaluation tool</li>
                </ul>

                <div class="page-subheading">Manual Testing</div>
                <ul>
                    <li><strong>Keyboard only:</strong> Navigate using only Tab, Enter, Space, and Arrow keys</li>
                    <li><strong>Screen reader:</strong> Test with NVDA (Windows), JAWS (Windows), or VoiceOver (Mac/iOS)</li>
                    <li><strong>Zoom to 200%:</strong> Ensure content remains readable and functional</li>
                    <li><strong>Color blindness:</strong> Test with color blindness simulators</li>
                </ul>

                <div class="page-subheading">Mobile Testing</div>
                <ul>
                    <li><strong>Touch targets:</strong> All interactive elements should be easy to tap</li>
                    <li><strong>Screen readers:</strong> Test with TalkBack (Android) and VoiceOver (iOS)</li>
                    <li><strong>Orientation:</strong> Test both portrait and landscape modes</li>
                </ul>
            </div>
        </div>

        <div class="content-section">
            <div class="section-title page-heading">Common Mistakes to Avoid</div>
            <div class="section-content">
                <div class="card" style="padding: var(--space-4); margin-bottom: var(--space-4); border-left: 3px solid var(--color-error);">
                    <h4 style="color: var(--color-text-primary); margin: 0 0 var(--space-2) 0;">❌ Assuming CSS is enough</h4>
                    <p style="margin: 0;">Just because a component <em>looks</em> accessible doesn't mean it <em>is</em> accessible. Screen readers can't read visual styling.</p>
                </div>

                <div class="card" style="padding: var(--space-4); margin-bottom: var(--space-4); border-left: 3px solid var(--color-error);">
                    <h4 style="color: var(--color-text-primary); margin: 0 0 var(--space-2) 0;">❌ Icon buttons without labels</h4>
                    <p style="margin: 0;">Always add <code>aria-label</code> to buttons that only contain icons. Screen reader users need to know what the button does.</p>
                </div>

                <div class="card" style="padding: var(--space-4); margin-bottom: var(--space-4); border-left: 3px solid var(--color-error);">
                    <h4 style="color: var(--color-text-primary); margin: 0 0 var(--space-2) 0;">❌ Using divs instead of buttons</h4>
                    <p style="margin: 0;">Use semantic HTML. A <code>&lt;div&gt;</code> with an onclick is not a button. Use <code>&lt;button&gt;</code> elements.</p>
                </div>

                <div class="card" style="padding: var(--space-4); margin-bottom: var(--space-4); border-left: 3px solid var(--color-error);">
                    <h4 style="color: var(--color-text-primary); margin: 0 0 var(--space-2) 0;">❌ Color-only indicators</h4>
                    <p style="margin: 0;">Never rely on color alone. Always combine color with text, icons, or patterns for colorblind users.</p>
                </div>

                <div class="card" style="padding: var(--space-4); border-left: 3px solid var(--color-error);">
                    <h4 style="color: var(--color-text-primary); margin: 0 0 var(--space-2) 0;">❌ Forgetting loading states</h4>
                    <p style="margin: 0;">Add <code>role="status"</code> and <code>aria-label</code> to spinners. Add <code>aria-busy="true"</code> to loading buttons.</p>
                </div>
            </div>
        </div>

        <div class="content-section">
            <div class="section-title page-heading">Resources</div>
            <div class="section-content">
                <ul>
                    <li><a href="https://www.w3.org/WAI/WCAG21/quickref/" target="_blank" style="color: var(--color-primary);">WCAG 2.1 Quick Reference</a></li>
                    <li><a href="https://www.w3.org/WAI/ARIA/apg/" target="_blank" style="color: var(--color-primary);">ARIA Authoring Practices Guide</a></li>
                    <li><a href="https://webaim.org/" target="_blank" style="color: var(--color-primary);">WebAIM Resources</a></li>
                    <li><a href="https://www.deque.com/axe/" target="_blank" style="color: var(--color-primary);">axe DevTools</a></li>
                    <li><a href="https://wave.webaim.org/" target="_blank" style="color: var(--color-primary);">WAVE Evaluation Tool</a></li>
                </ul>
            </div>
        </div>

    </main>

    <!-- Theme Toggle -->
    <div class="theme-toggle">
        <button class="btn btn-secondary btn-sm" onclick="toggleTheme()" aria-label="Toggle theme">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="12" cy="12" r="5"/>
                <line x1="12" y1="1" x2="12" y2="3"/>
                <line x1="12" y1="21" x2="12" y2="23"/>
                <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/>
                <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/>
                <line x1="1" y1="12" x2="3" y2="12"/>
                <line x1="21" y1="12" x2="23" y2="12"/>
                <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/>
                <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/>
            </svg>
        </button>
    </div>

    <script>
        lucide.createIcons();
    </script>

    <!-- Unified Theme Sync -->
    <script>
    (function() {
        // Sync theme from localStorage IMMEDIATELY
        const savedTheme = localStorage.getItem('theme') || 'dark';
        const themeLink = document.getElementById('theme-link');
        
        if (themeLink) {
            const isInComponents = window.location.pathname.includes('/components/');
            const relativePath = isInComponents ? '../' : './';
            const themeFiles = {
                'dark': 'dark.css',
                'light': 'light.css',
                'neon': 'neon.css',
                'prismatic': 'prismatic.css',
                'minimal': 'minimal.css',
                'warm': 'warm.css',
                'kinetic': 'kinetic.css',
                'high-contrast': 'high-contrast.css',
                'colorblind': 'colorblind-friendly.css'
            };

            const themeFile = themeFiles[savedTheme] || 'dark.css';
            const themePath = relativePath + themeFile;
            
            console.log('Applying theme:', savedTheme, 'Path:', themePath);
            themeLink.href = themePath;
        } else {
            console.error('Theme link not found!');
        }

        // Hide theme toggle in iframe (demo.html controls theme)
        window.addEventListener('DOMContentLoaded', function() {
            try {
                if (window.self !== window.top) {
                    const themeToggle = document.querySelector('.theme-toggle');
                    if (themeToggle) {
                        themeToggle.style.display = 'none';
                    }
                }
            } catch (e) {}
        });
    })();
    </script>
    <!-- Theme Manager -->
    <script src="js/theme-manager.js"></script>

    <!-- Enhanced Documentation JavaScript -->
    <script src="js/doc-enhanced.js"></script>

</body>
</html>
