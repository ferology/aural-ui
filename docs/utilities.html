<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Utility Classes - Aural UI</title>

    <!-- Aural UI CSS -->
    <link rel="stylesheet" href="./aural-ui.css?v=11">

    <!-- Theme CSS -->
    <link rel="stylesheet" href="./dark.css" id="theme-link">

    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <style>
        body {
            margin: 0;
            padding: 0;
            min-height: 100vh;
        }

        /* Main Content */
        .main-content {
            max-width: 900px;
            margin: 0 auto;
            padding: var(--space-8);
            min-height: 100vh;
        }

        .page-header {
            margin-bottom: var(--space-8);
        }

        .page-title {
            font-size: var(--text-3xl);
            font-weight: var(--font-bold);
            color: var(--color-text-primary);
            margin: 0 0 var(--space-4) 0;
        }

        .page-description {
            font-size: var(--text-lg);
            color: var(--color-text-secondary);
            line-height: 1.8;
            margin: 0;
        }

        .content-section {
            margin-bottom: var(--space-8);
        }

        .section-title {
            font-size: var(--text-2xl);
            font-weight: var(--font-semibold);
            color: var(--color-text-primary);
            margin: 0 0 var(--space-4) 0;
        }

        .section-content {
            font-size: var(--text-base);
            color: var(--color-text-secondary);
            line-height: 1.8;
        }

        .section-content h3 {
            font-size: var(--text-xl);
            font-weight: var(--font-semibold);
            color: var(--color-text-primary);
            margin: var(--space-6) 0 var(--space-3) 0;
        }

        .section-content h4 {
            font-size: var(--text-lg);
            font-weight: var(--font-medium);
            color: var(--color-primary);
            margin: var(--space-4) 0 var(--space-2) 0;
        }

        .section-content p {
            margin: 0 0 var(--space-4) 0;
        }

        .section-content ul, .section-content ol {
            margin: 0 0 var(--space-4) 0;
            padding-left: var(--space-6);
        }

        .section-content li {
            margin-bottom: var(--space-2);
        }

        .section-content code {
            background: var(--color-bg-tertiary);
            padding: 2px 6px;
            border-radius: var(--radius-sm);
            font-size: 0.9em;
            font-family: var(--font-mono);
        }

        .section-content pre {
            background: var(--color-bg-tertiary);
            padding: var(--space-4);
            border-radius: var(--radius-md);
            overflow-x: auto;
            margin: var(--space-4) 0;
        }

        .section-content pre code {
            background: none;
            padding: 0;
        }

        .utility-table {
            width: 100%;
            border-collapse: collapse;
            margin: var(--space-4) 0;
        }

        .utility-table th {
            background: var(--color-bg-secondary);
            padding: var(--space-3);
            text-align: left;
            font-weight: var(--font-semibold);
            color: var(--color-text-primary);
            border-bottom: 1px solid var(--color-border-subtle);
        }

        .utility-table td {
            padding: var(--space-3);
            border-bottom: 1px solid var(--color-border-subtle);
        }

        .utility-name {
            font-family: var(--font-mono);
            color: var(--color-primary);
            font-weight: var(--font-medium);
            font-size: var(--text-sm);
        }

        .utility-description {
            color: var(--color-text-secondary);
            font-size: var(--text-sm);
        }

        .demo-box {
            background: var(--color-bg-secondary);
            border: 1px solid var(--color-border-subtle);
            border-radius: var(--radius-md);
            padding: var(--space-4);
            margin: var(--space-4) 0;
        }

        /* Theme Toggle */
        .theme-toggle {
            position: fixed;
            top: var(--space-6);
            right: var(--space-6);
            z-index: 200;
        }

        /* Mobile Styles */
        @media (max-width: 768px) {
            .main-content {
                padding: var(--space-6) var(--space-4);
            }

            .page-title {
                font-size: var(--text-2xl);
            }

            .page-description {
                font-size: var(--text-base);
            }

            .section-title {
                font-size: var(--text-xl);
            }

            .theme-toggle {
                top: var(--space-4);
                right: var(--space-4);
            }

            .utility-table {
                font-size: var(--text-sm);
            }

            .utility-table th,
            .utility-table td {
                padding: var(--space-2);
            }
        }
    </style>
</head>
<body>
    <!-- Main Content -->
    <main class="main-content">
        <div class="page-header">
            <h1 class="page-title">Utility Classes</h1>
            <p class="page-description">Comprehensive set of utility classes for rapid UI development. These classes provide low-level styling controls for common patterns.</p>
        </div>

        <!-- Display & Layout -->
        <section class="content-section">
            <h2 class="section-title">Display & Layout</h2>
            <div class="section-content">
                <h3>Display</h3>
                <table class="utility-table">
                    <thead>
                        <tr>
                            <th>Class</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code class="utility-name">.hidden</code></td>
                            <td class="utility-description">Hide element (display: none)</td>
                        </tr>
                        <tr>
                            <td><code class="utility-name">.block</code></td>
                            <td class="utility-description">Display as block</td>
                        </tr>
                        <tr>
                            <td><code class="utility-name">.inline-block</code></td>
                            <td class="utility-description">Display as inline-block</td>
                        </tr>
                        <tr>
                            <td><code class="utility-name">.inline</code></td>
                            <td class="utility-description">Display as inline</td>
                        </tr>
                        <tr>
                            <td><code class="utility-name">.flex</code></td>
                            <td class="utility-description">Display as flex container</td>
                        </tr>
                        <tr>
                            <td><code class="utility-name">.inline-flex</code></td>
                            <td class="utility-description">Display as inline-flex</td>
                        </tr>
                        <tr>
                            <td><code class="utility-name">.grid</code></td>
                            <td class="utility-description">Display as grid</td>
                        </tr>
                    </tbody>
                </table>

                <h3>Flexbox</h3>
                <table class="utility-table">
                    <thead>
                        <tr>
                            <th>Class</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code class="utility-name">.flex-row</code></td>
                            <td class="utility-description">Flex direction row</td>
                        </tr>
                        <tr>
                            <td><code class="utility-name">.flex-col</code></td>
                            <td class="utility-description">Flex direction column</td>
                        </tr>
                        <tr>
                            <td><code class="utility-name">.items-start</code></td>
                            <td class="utility-description">Align items to start</td>
                        </tr>
                        <tr>
                            <td><code class="utility-name">.items-center</code></td>
                            <td class="utility-description">Align items to center</td>
                        </tr>
                        <tr>
                            <td><code class="utility-name">.items-end</code></td>
                            <td class="utility-description">Align items to end</td>
                        </tr>
                        <tr>
                            <td><code class="utility-name">.justify-start</code></td>
                            <td class="utility-description">Justify content to start</td>
                        </tr>
                        <tr>
                            <td><code class="utility-name">.justify-center</code></td>
                            <td class="utility-description">Justify content to center</td>
                        </tr>
                        <tr>
                            <td><code class="utility-name">.justify-end</code></td>
                            <td class="utility-description">Justify content to end</td>
                        </tr>
                        <tr>
                            <td><code class="utility-name">.justify-between</code></td>
                            <td class="utility-description">Space between items</td>
                        </tr>
                        <tr>
                            <td><code class="utility-name">.flex-1</code></td>
                            <td class="utility-description">Flex: 1 1 0%</td>
                        </tr>
                        <tr>
                            <td><code class="utility-name">.flex-shrink-0</code></td>
                            <td class="utility-description">Prevent flex shrinking</td>
                        </tr>
                    </tbody>
                </table>

                <h3>Gap</h3>
                <p>Control spacing between flex/grid items:</p>
                <ul>
                    <li><code>.gap-1</code> through <code>.gap-8</code></li>
                </ul>
            </div>
        </section>

        <!-- Backdrop Filters -->
        <section class="content-section">
            <h2 class="section-title">Backdrop Filters</h2>
            <div class="section-content">
                <p>Create glassmorphism effects and modern overlay styles using backdrop filters.</p>

                <h3>Backdrop Blur</h3>
                <table class="utility-table">
                    <thead>
                        <tr>
                            <th>Class</th>
                            <th>Effect</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code class="utility-name">.backdrop-blur-none</code></td>
                            <td class="utility-description">No blur</td>
                        </tr>
                        <tr>
                            <td><code class="utility-name">.backdrop-blur-sm</code></td>
                            <td class="utility-description">4px blur</td>
                        </tr>
                        <tr>
                            <td><code class="utility-name">.backdrop-blur</code></td>
                            <td class="utility-description">8px blur</td>
                        </tr>
                        <tr>
                            <td><code class="utility-name">.backdrop-blur-md</code></td>
                            <td class="utility-description">12px blur</td>
                        </tr>
                        <tr>
                            <td><code class="utility-name">.backdrop-blur-lg</code></td>
                            <td class="utility-description">16px blur</td>
                        </tr>
                        <tr>
                            <td><code class="utility-name">.backdrop-blur-xl</code></td>
                            <td class="utility-description">24px blur</td>
                        </tr>
                        <tr>
                            <td><code class="utility-name">.backdrop-blur-2xl</code></td>
                            <td class="utility-description">40px blur</td>
                        </tr>
                        <tr>
                            <td><code class="utility-name">.backdrop-blur-3xl</code></td>
                            <td class="utility-description">64px blur</td>
                        </tr>
                    </tbody>
                </table>

                <h4>Example Usage</h4>
                <pre><code>&lt;div class="backdrop-blur-md" style="background: rgba(255, 255, 255, 0.1);"&gt;
    Glass effect overlay
&lt;/div&gt;</code></pre>

                <h3>Other Backdrop Filters</h3>
                <p>Additional backdrop filter utilities include:</p>
                <ul>
                    <li><code>.backdrop-brightness-{value}</code> - Control background brightness (0, 50, 75, 90, 95, 100, 105, 110, 125, 150, 200)</li>
                    <li><code>.backdrop-contrast-{value}</code> - Control background contrast (0, 50, 75, 100, 125, 150, 200)</li>
                    <li><code>.backdrop-saturate-{value}</code> - Control background saturation (0, 50, 100, 150, 200)</li>
                    <li><code>.backdrop-opacity-{value}</code> - Control background opacity (0, 25, 50, 75, 100)</li>
                    <li><code>.backdrop-grayscale</code> - Apply grayscale filter</li>
                    <li><code>.backdrop-invert</code> - Invert background colors</li>
                    <li><code>.backdrop-sepia</code> - Apply sepia tone</li>
                    <li><code>.backdrop-hue-rotate-{deg}</code> - Rotate hue (0, 15, 30, 60, 90, 180)</li>
                </ul>
            </div>
        </section>

        <!-- Gradients -->
        <section class="content-section">
            <h2 class="section-title">Gradient Utilities</h2>
            <div class="section-content">
                <p>Create beautiful background gradients using directional and color stop utilities.</p>

                <h3>Gradient Directions</h3>
                <table class="utility-table">
                    <thead>
                        <tr>
                            <th>Class</th>
                            <th>Direction</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code class="utility-name">.bg-gradient-to-t</code></td>
                            <td class="utility-description">Top</td>
                        </tr>
                        <tr>
                            <td><code class="utility-name">.bg-gradient-to-tr</code></td>
                            <td class="utility-description">Top right</td>
                        </tr>
                        <tr>
                            <td><code class="utility-name">.bg-gradient-to-r</code></td>
                            <td class="utility-description">Right</td>
                        </tr>
                        <tr>
                            <td><code class="utility-name">.bg-gradient-to-br</code></td>
                            <td class="utility-description">Bottom right</td>
                        </tr>
                        <tr>
                            <td><code class="utility-name">.bg-gradient-to-b</code></td>
                            <td class="utility-description">Bottom</td>
                        </tr>
                        <tr>
                            <td><code class="utility-name">.bg-gradient-to-bl</code></td>
                            <td class="utility-description">Bottom left</td>
                        </tr>
                        <tr>
                            <td><code class="utility-name">.bg-gradient-to-l</code></td>
                            <td class="utility-description">Left</td>
                        </tr>
                        <tr>
                            <td><code class="utility-name">.bg-gradient-to-tl</code></td>
                            <td class="utility-description">Top left</td>
                        </tr>
                    </tbody>
                </table>

                <h3>Color Stops</h3>
                <p>Control gradient colors using from/via/to utilities:</p>
                <ul>
                    <li><code>.from-{color}</code> - Starting color</li>
                    <li><code>.via-{color}</code> - Middle color</li>
                    <li><code>.to-{color}</code> - Ending color</li>
                </ul>

                <p>Available colors: <code>primary</code>, <code>secondary</code>, <code>success</code>, <code>warning</code>, <code>error</code>, <code>info</code>, <code>bg-primary</code>, <code>bg-secondary</code>, <code>bg-tertiary</code>, <code>transparent</code>, <code>black</code>, <code>white</code></p>

                <h4>Example Usage</h4>
                <pre><code>&lt;div class="bg-gradient-to-r from-primary to-secondary"&gt;
    Primary to secondary gradient
&lt;/div&gt;

&lt;div class="bg-gradient-to-br from-success via-warning to-error"&gt;
    Three-color gradient
&lt;/div&gt;</code></pre>

                <div class="demo-box bg-gradient-to-r from-primary to-secondary" style="height: 100px; display: flex; align-items: center; justify-content: center; color: white; font-weight: 600;">
                    Gradient Demo: Primary to Secondary
                </div>
            </div>
        </section>

        <!-- Aspect Ratio -->
        <section class="content-section">
            <h2 class="section-title">Aspect Ratio</h2>
            <div class="section-content">
                <p>Control element aspect ratios for consistent image and video sizing.</p>

                <h3>Aspect Ratio Utilities</h3>
                <table class="utility-table">
                    <thead>
                        <tr>
                            <th>Class</th>
                            <th>Ratio</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code class="utility-name">.aspect-auto</code></td>
                            <td class="utility-description">Natural aspect ratio</td>
                        </tr>
                        <tr>
                            <td><code class="utility-name">.aspect-square</code></td>
                            <td class="utility-description">1:1 (square)</td>
                        </tr>
                        <tr>
                            <td><code class="utility-name">.aspect-video</code></td>
                            <td class="utility-description">16:9 (standard video)</td>
                        </tr>
                        <tr>
                            <td><code class="utility-name">.aspect-wide</code></td>
                            <td class="utility-description">21:9 (ultrawide)</td>
                        </tr>
                        <tr>
                            <td><code class="utility-name">.aspect-ultrawide</code></td>
                            <td class="utility-description">32:9 (super ultrawide)</td>
                        </tr>
                        <tr>
                            <td><code class="utility-name">.aspect-portrait</code></td>
                            <td class="utility-description">3:4 (portrait photo)</td>
                        </tr>
                        <tr>
                            <td><code class="utility-name">.aspect-photo</code></td>
                            <td class="utility-description">4:3 (standard photo)</td>
                        </tr>
                        <tr>
                            <td><code class="utility-name">.aspect-golden</code></td>
                            <td class="utility-description">1.618:1 (golden ratio)</td>
                        </tr>
                        <tr>
                            <td><code class="utility-name">.aspect-vertical</code></td>
                            <td class="utility-description">9:16 (vertical video)</td>
                        </tr>
                    </tbody>
                </table>

                <h3>Object Fit</h3>
                <p>Control how images/videos fit within their containers:</p>
                <ul>
                    <li><code>.object-contain</code> - Scale to fit, maintain aspect ratio</li>
                    <li><code>.object-cover</code> - Cover entire container, may crop</li>
                    <li><code>.object-fill</code> - Stretch to fill container</li>
                    <li><code>.object-none</code> - No resizing</li>
                    <li><code>.object-scale-down</code> - Scale down if larger</li>
                </ul>

                <h3>Object Position</h3>
                <p>Control positioning of scaled content:</p>
                <ul>
                    <li><code>.object-center</code>, <code>.object-top</code>, <code>.object-right</code>, <code>.object-bottom</code>, <code>.object-left</code></li>
                    <li><code>.object-top-left</code>, <code>.object-top-right</code>, <code>.object-bottom-left</code>, <code>.object-bottom-right</code></li>
                </ul>

                <h4>Example Usage</h4>
                <pre><code>&lt;div class="aspect-video"&gt;
    &lt;img src="image.jpg" class="w-full object-cover" alt="Video thumbnail"&gt;
&lt;/div&gt;</code></pre>
            </div>
        </section>

        <!-- Dark Mode -->
        <section class="content-section">
            <h2 class="section-title">Dark Mode Utilities</h2>
            <div class="section-content">
                <p>Apply dark mode-specific styles when a <code>.dark</code> class is present on the root element.</p>

                <h3>Dark Mode Classes</h3>
                <table class="utility-table">
                    <thead>
                        <tr>
                            <th>Class</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code class="utility-name">.dark:text-primary</code></td>
                            <td class="utility-description">Text color in dark mode</td>
                        </tr>
                        <tr>
                            <td><code class="utility-name">.dark:bg-primary</code></td>
                            <td class="utility-description">Background color in dark mode</td>
                        </tr>
                        <tr>
                            <td><code class="utility-name">.dark:border-primary</code></td>
                            <td class="utility-description">Border color in dark mode</td>
                        </tr>
                        <tr>
                            <td><code class="utility-name">.dark:hidden</code></td>
                            <td class="utility-description">Hide in dark mode</td>
                        </tr>
                        <tr>
                            <td><code class="utility-name">.dark:block</code></td>
                            <td class="utility-description">Show as block in dark mode</td>
                        </tr>
                        <tr>
                            <td><code class="utility-name">.dark:opacity-{value}</code></td>
                            <td class="utility-description">Opacity in dark mode (0, 25, 50, 75, 100)</td>
                        </tr>
                    </tbody>
                </table>

                <h4>Example Usage</h4>
                <pre><code>&lt;div class="bg-white dark:bg-black text-black dark:text-white"&gt;
    This adapts to dark mode
&lt;/div&gt;</code></pre>
            </div>
        </section>

        <!-- RTL Support -->
        <section class="content-section">
            <h2 class="section-title">RTL Support</h2>
            <div class="section-content">
                <p>Support right-to-left languages like Arabic and Hebrew with RTL-aware utilities.</p>

                <h3>RTL-Aware Utilities</h3>
                <p>These utilities automatically flip when <code>dir="rtl"</code> is set on the HTML element:</p>
                <ul>
                    <li><code>.rtl:mr-{size}</code> / <code>.rtl:ml-{size}</code> - RTL-aware margins</li>
                    <li><code>.rtl:pr-{size}</code> / <code>.rtl:pl-{size}</code> - RTL-aware padding</li>
                    <li><code>.rtl:left-0</code> / <code>.rtl:right-0</code> - RTL-aware positioning</li>
                    <li><code>.rtl:text-left</code> / <code>.rtl:text-right</code> - RTL-aware text alignment</li>
                    <li><code>.rtl:flex-row-reverse</code> - Reverse flex direction in RTL</li>
                    <li><code>.rtl:scale-x-flip</code> - Flip horizontally in RTL</li>
                </ul>

                <h3>Logical Properties</h3>
                <p>Direction-agnostic utilities that work automatically in both LTR and RTL:</p>
                <ul>
                    <li><code>.start-0</code> / <code>.end-0</code> - Logical positioning (inline-start/end)</li>
                    <li><code>.ms-{size}</code> / <code>.me-{size}</code> - Margin start/end</li>
                    <li><code>.ps-{size}</code> / <code>.pe-{size}</code> - Padding start/end</li>
                    <li><code>.border-s</code> / <code>.border-e</code> - Border start/end</li>
                    <li><code>.rounded-s</code> / <code>.rounded-e</code> - Border radius start/end</li>
                </ul>

                <h4>Example Usage</h4>
                <pre><code>&lt;!-- Using RTL-aware utilities --&gt;
&lt;div class="rtl:ml-4 ml-0"&gt;
    Margin adjusts for RTL
&lt;/div&gt;

&lt;!-- Using logical properties (recommended) --&gt;
&lt;div class="ms-4"&gt;
    Margin-inline-start works in both LTR and RTL
&lt;/div&gt;</code></pre>
            </div>
        </section>

        <!-- Spacing -->
        <section class="content-section">
            <h2 class="section-title">Spacing</h2>
            <div class="section-content">
                <h3>Margin</h3>
                <p>Available margin utilities:</p>
                <ul>
                    <li><code>.m-0</code>, <code>.m-auto</code> - All sides</li>
                    <li><code>.mt-{size}</code>, <code>.mb-{size}</code> - Top/bottom</li>
                    <li>Sizes: 0, 2, 4, 6, 8 (corresponding to design tokens)</li>
                </ul>

                <h3>Padding</h3>
                <p>Available padding utilities:</p>
                <ul>
                    <li><code>.p-{size}</code> - All sides</li>
                    <li>Sizes: 0, 2, 4, 6, 8 (corresponding to design tokens)</li>
                </ul>
            </div>
        </section>

        <!-- Typography -->
        <section class="content-section">
            <h2 class="section-title">Typography</h2>
            <div class="section-content">
                <h3>Text Alignment</h3>
                <ul>
                    <li><code>.text-left</code>, <code>.text-center</code>, <code>.text-right</code></li>
                </ul>

                <h3>Font Weight</h3>
                <ul>
                    <li><code>.font-normal</code> (400)</li>
                    <li><code>.font-medium</code> (500)</li>
                    <li><code>.font-semibold</code> (600)</li>
                    <li><code>.font-bold</code> (700)</li>
                </ul>

                <h3>Font Size</h3>
                <ul>
                    <li><code>.text-xs</code>, <code>.text-sm</code>, <code>.text-base</code></li>
                    <li><code>.text-lg</code>, <code>.text-xl</code>, <code>.text-2xl</code></li>
                </ul>
            </div>
        </section>

        <!-- Sizing -->
        <section class="content-section">
            <h2 class="section-title">Sizing</h2>
            <div class="section-content">
                <h3>Width</h3>
                <ul>
                    <li><code>.w-full</code> - 100% width</li>
                    <li><code>.w-auto</code> - Auto width</li>
                </ul>
            </div>
        </section>

        <!-- Border Radius -->
        <section class="content-section">
            <h2 class="section-title">Border Radius</h2>
            <div class="section-content">
                <table class="utility-table">
                    <thead>
                        <tr>
                            <th>Class</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code class="utility-name">.rounded</code></td>
                            <td class="utility-description">Small border radius</td>
                        </tr>
                        <tr>
                            <td><code class="utility-name">.rounded-md</code></td>
                            <td class="utility-description">Medium border radius</td>
                        </tr>
                        <tr>
                            <td><code class="utility-name">.rounded-lg</code></td>
                            <td class="utility-description">Large border radius</td>
                        </tr>
                        <tr>
                            <td><code class="utility-name">.rounded-full</code></td>
                            <td class="utility-description">Fully rounded (pill/circle)</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

    </main>

    <!-- Theme Toggle -->
    <div class="theme-toggle">
        <button class="btn btn-secondary btn-sm" onclick="toggleTheme()">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="12" cy="12" r="5"/>
                <line x1="12" y1="1" x2="12" y2="3"/>
                <line x1="12" y1="21" x2="12" y2="23"/>
                <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/>
                <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/>
                <line x1="1" y1="12" x2="3" y2="12"/>
                <line x1="21" y1="12" x2="23" y2="12"/>
                <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/>
                <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/>
            </svg>
        </button>
    </div>

    <!-- Aural UI JavaScript -->
    <script src="./aural-ui.js"></script>

    <script>
        // Initialize Lucide icons
        lucide.createIcons();

        // Theme toggle
        let isDark = true;
        function toggleTheme() {
            const themeLink = document.getElementById('theme-link');
            isDark = !isDark;
            themeLink.href = isDark ? './dark.css' : './light.css';
            localStorage.setItem('theme', isDark ? 'dark' : 'light');
        }

        // Load saved theme
        const savedTheme = localStorage.getItem('theme');
        if (savedTheme) {
            isDark = savedTheme === 'dark';
            document.getElementById('theme-link').href = isDark ? './dark.css' : './light.css';
        }
    </script>

    <!-- Unified Theme Sync -->
    <script>
    (function() {
        // Sync theme from localStorage IMMEDIATELY
        const savedTheme = localStorage.getItem('theme') || 'dark';
        const themeLink = document.getElementById('theme-link');

        if (themeLink) {
            const isInComponents = window.location.pathname.includes('/components/');
            const relativePath = isInComponents ? '../' : './';
            const themePath = savedTheme === 'dark' ? relativePath + 'dark.css' : relativePath + 'light.css';

            console.log('Applying theme:', savedTheme, 'Path:', themePath);
            themeLink.href = themePath;
        } else {
            console.error('Theme link not found!');
        }

        // Hide theme toggle in iframe (demo.html controls theme)
        window.addEventListener('DOMContentLoaded', function() {
            try {
                if (window.self !== window.top) {
                    const themeToggle = document.querySelector('.theme-toggle');
                    if (themeToggle) {
                        themeToggle.style.display = 'none';
                    }
                }
            } catch (e) {}
        });
    })();
    </script>
</body>
</html>
