<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aural UI - A Modern Design System</title>

    <!-- Aural UI CSS -->
    <link rel="stylesheet" href="./aural-ui.css?v=1769422352">

    <!-- Choose theme -->
    <link rel="stylesheet" href="./dark.css?v=1769422352" id="theme-link">

    <!-- Lucide Icons (MIT License) -->
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>

    <style>
        body {
            display: flex;
            margin: 0;
            padding: 0;
        }

        /* Main Content */
        .main-content {
            flex: 1;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: var(--space-8);
        }

        /* Centered Hero Section */
        .hero-section {
            max-width: 900px;
            width: 100%;
            text-align: center;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: var(--space-8);
        }

        .hero-logo {
            width: 200px;
            height: 200px;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .soundwave-container {
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            filter: drop-shadow(0 0 20px var(--color-primary));
        }

        .wave-bar {
            width: 8px;
            background: linear-gradient(180deg, var(--color-primary), var(--color-secondary));
            border-radius: 4px;
            animation: wave-pulse 1.2s ease-in-out infinite;
            transform-origin: center;
        }

        .wave-bar:nth-child(1) { height: 30px; animation-delay: 0s; }
        .wave-bar:nth-child(2) { height: 50px; animation-delay: 0.15s; }
        .wave-bar:nth-child(3) { height: 80px; animation-delay: 0.25s; }
        .wave-bar:nth-child(4) { height: 65px; animation-delay: 0.35s; }
        .wave-bar:nth-child(5) { height: 90px; animation-delay: 0.4s; }
        .wave-bar:nth-child(6) { height: 45px; animation-delay: 0.55s; }
        .wave-bar:nth-child(7) { height: 70px; animation-delay: 0.65s; }
        .wave-bar:nth-child(8) { height: 40px; animation-delay: 0.75s; }

        @keyframes wave-pulse {
            0%, 100% { transform: scaleY(0.5); opacity: 0.6; }
            50% { transform: scaleY(1); opacity: 1; }
        }

        .hero-content {
            display: flex;
            flex-direction: column;
            gap: var(--space-6);
        }

        .hero-title {
            font-size: var(--text-3xl);
            font-weight: var(--font-bold);
            color: var(--color-text-primary);
            margin: 0;
        }

        .hero-description {
            font-size: var(--text-lg);
            color: var(--color-text-secondary);
            line-height: 1.8;
            margin: 0;
        }

        .hero-actions {
            display: flex;
            gap: var(--space-4);
            justify-content: center;
            flex-wrap: wrap;
        }

        /* Force button styling to override any cached CSS */
        .hero-actions .btn {
            border-radius: 0.75rem !important;
        }

        .hero-actions .btn-primary {
            background: var(--primary-400) !important;
        }

        /* Stats Section */
        .stats-section {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: var(--space-8);
            margin-top: var(--space-12);
            padding: var(--space-8);
            max-width: 900px;
            width: 100%;
            border-top: 1px solid var(--color-border-subtle);
            border-bottom: 1px solid var(--color-border-subtle);
        }

        .stat-item {
            text-align: center;
        }

        .stat-number {
            font-size: var(--text-3xl);
            font-weight: var(--font-bold);
            color: var(--color-primary);
            display: block;
            margin-bottom: var(--space-2);
        }

        .stat-label {
            font-size: var(--text-sm);
            color: var(--color-text-secondary);
            text-transform: uppercase;
            letter-spacing: var(--tracking-wide);
        }

        /* Feature Cards */
        .cards-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: var(--space-6);
            margin-top: var(--space-12);
            max-width: 1200px;
            width: 100%;
        }

        .feature-card {
            padding: var(--space-6);
            background: var(--color-bg-secondary);
            border: 1px solid var(--color-border-subtle);
            border-radius: var(--radius-lg);
            transition: all 0.2s ease;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
        }

        .feature-card:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
            border-color: var(--color-primary);
            background: var(--color-bg-tertiary);
        }

        .feature-icon {
            width: 48px;
            height: 48px;
            background: var(--color-primary-alpha);
            color: var(--color-primary);
            border-radius: var(--radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: var(--space-4);
        }

        .feature-icon i {
            width: 24px;
            height: 24px;
        }

        .feature-title {
            font-size: var(--text-xl);
            font-weight: var(--font-semibold);
            color: var(--color-text-primary);
            margin-bottom: var(--space-3);
        }

        .feature-description {
            font-size: var(--text-base);
            color: var(--color-text-secondary);
            line-height: var(--leading-relaxed);
        }

        /* Theme Toggle */
        .theme-toggle {
            position: fixed;
            top: var(--space-6);
            right: var(--space-6);
            z-index: 200;
        }

        /* Token Control Styles */
        .token-control-group {
            margin-bottom: var(--space-3);
            display: flex;
            flex-direction: column;
            gap: var(--space-2);
        }

        .token-control-label {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: var(--text-sm);
            font-weight: var(--font-medium);
            color: var(--color-text-primary);
        }

        .token-control-value {
            font-size: var(--text-xs);
            color: var(--color-text-secondary);
            font-weight: var(--font-normal);
        }

        .token-control-input {
            width: 100%;
        }

        input[type="color"] {
            height: 48px;
            border: 1px solid var(--color-border-subtle);
            border-radius: var(--radius-md);
            cursor: pointer;
        }

        input[type="range"] {
            -webkit-appearance: none;
            appearance: none;
            height: 6px;
            background: var(--color-bg-tertiary);
            border-radius: var(--radius-sm);
            outline: none;
        }

        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            background: var(--color-primary);
            border-radius: 50%;
            cursor: pointer;
        }

        input[type="range"]::-moz-range-thumb {
            width: 20px;
            height: 20px;
            background: var(--color-primary);
            border-radius: 50%;
            cursor: pointer;
            border: none;
        }

        /* Mobile Styles */
        @media (max-width: 768px) {
            .main-content {
                padding: var(--space-6) var(--space-4);
            }

            .hero-logo {
                width: 120px;
                height: 120px;
            }

            .hero-title {
                font-size: var(--text-xl);
            }

            .hero-description {
                font-size: var(--text-sm);
            }

            .hero-actions {
                flex-direction: column;
                width: 100%;
            }

            .hero-actions .btn {
                width: 100%;
            }

            .theme-toggle {
                top: var(--space-4);
                right: var(--space-4);
            }

            .cards-grid {
                grid-template-columns: 1fr;
                gap: var(--space-4);
            }

            .feature-card {
                padding: var(--space-4);
            }

            .stats-section {
                grid-template-columns: repeat(2, 1fr);
                gap: var(--space-6);
            }
        }

        /* Footer */
        .page-footer {
            margin-top: var(--space-16);
            padding-top: var(--space-8);
            border-top: 1px solid var(--color-border-subtle);
            max-width: 1200px;
            width: 100%;
        }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: var(--space-8);
            margin-bottom: var(--space-8);
        }

        .footer-section h4 {
            font-size: var(--text-sm);
            font-weight: var(--font-semibold);
            color: var(--color-text-primary);
            margin-bottom: var(--space-3);
            text-transform: uppercase;
            letter-spacing: var(--tracking-wide);
        }

        .footer-links {
            list-style: none;
            padding: 0;
            margin: 0;
            display: flex;
            flex-direction: column;
            gap: var(--space-2);
        }

        .footer-links a {
            color: var(--color-text-secondary);
            text-decoration: none;
            font-size: var(--text-sm);
            transition: all 0.15s ease;
            display: flex;
            align-items: center;
            gap: var(--space-2);
        }

        .footer-links a:hover {
            color: var(--color-primary);
        }

        .footer-links i {
            width: 16px;
            height: 16px;
        }

        .footer-bottom {
            padding-top: var(--space-6);
            border-top: 1px solid var(--color-border-subtle);
            text-align: center;
            color: var(--color-text-tertiary);
            font-size: var(--text-sm);
        }
    </style>
</head>
<body>
    <!-- Mobile Header -->
    </div>

    <!-- Mobile Overlay -->

    <!-- Sidebar Navigation -->
    <!-- Main Content -->
    <main class="main-content">
        <div class="hero-section">
            <!-- Large Animated Logo -->
            <div class="hero-logo">
                <div class="soundwave-container">
                    <div class="wave-bar"></div>
                    <div class="wave-bar"></div>
                    <div class="wave-bar"></div>
                    <div class="wave-bar"></div>
                    <div class="wave-bar"></div>
                    <div class="wave-bar"></div>
                    <div class="wave-bar"></div>
                    <div class="wave-bar"></div>
                </div>
            </div>

            <!-- Centered Content -->
            <div class="hero-content">
                <h1 class="hero-title">A Modern, Accessible Design System</h1>
                <p class="hero-description">
                    Aural UI is a comprehensive design system built with accessibility, performance, and developer
                    experience in mind. Featuring 52+ production-ready components, a powerful token system, and
                    beautiful dark mode support out of the box. Customize every aspect of the design to match
                    your brand, from colors to spacing to typography.
                </p>
            </div>

            <!-- Actions Below -->
            <div class="hero-actions">
                <a href="./demo.html" class="btn btn-primary btn-lg">
                    <i data-lucide="play-circle"></i>
                    View Components
                </a>
                <a href="./getting-started.html" class="btn btn-secondary btn-lg">
                    <i data-lucide="book-open"></i>
                    Get Started
                </a>
                <a href="https://github.com/ferology/aural-ui" target="_blank" class="btn btn-ghost btn-lg">
                    <i data-lucide="github"></i>
                    GitHub
                </a>
            </div>

            <!-- Stats Section -->
            <div class="stats-section">
                <div class="stat-item">
                    <span class="stat-number">52+</span>
                    <span class="stat-label">Components</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number">100%</span>
                    <span class="stat-label">Accessible</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number">2</span>
                    <span class="stat-label">Themes</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number">0</span>
                    <span class="stat-label">Dependencies</span>
                </div>
            </div>

            <!-- Feature Cards -->
            <div class="cards-grid">
                <div class="feature-card">
                    <div class="feature-icon">
                        <i data-lucide="layout" style="width: 24px; height: 24px;"></i>
                    </div>
                    <h3 class="feature-title">52+ Components</h3>
                    <p class="feature-description">
                        Production-ready components from buttons to complex data tables, modals, carousels, and more.
                    </p>
                </div>

                <div class="feature-card">
                    <div class="feature-icon">
                        <i data-lucide="accessibility" style="width: 24px; height: 24px;"></i>
                    </div>
                    <h3 class="feature-title">Accessibility First</h3>
                    <p class="feature-description">
                        Built with WCAG 2.1 AA standards, keyboard navigation, and full screen reader support.
                    </p>
                </div>

                <div class="feature-card">
                    <div class="feature-icon">
                        <i data-lucide="palette" style="width: 24px; height: 24px;"></i>
                    </div>
                    <h3 class="feature-title">Fully Themeable</h3>
                    <p class="feature-description">
                        Customize colors, spacing, typography, and more with powerful CSS custom properties.
                    </p>
                </div>

                <div class="feature-card">
                    <div class="feature-icon">
                        <i data-lucide="moon" style="width: 24px; height: 24px;"></i>
                    </div>
                    <h3 class="feature-title">Dark Mode Built-in</h3>
                    <p class="feature-description">
                        Beautiful dark and light themes included. Switch seamlessly between modes with one click.
                    </p>
                </div>

                <div class="feature-card">
                    <div class="feature-icon">
                        <i data-lucide="zap" style="width: 24px; height: 24px;"></i>
                    </div>
                    <h3 class="feature-title">Lightweight & Fast</h3>
                    <p class="feature-description">
                        Optimized for performance with minimal bundle size and zero runtime dependencies.
                    </p>
                </div>

                <div class="feature-card">
                    <div class="feature-icon">
                        <i data-lucide="code-2" style="width: 24px; height: 24px;"></i>
                    </div>
                    <h3 class="feature-title">Developer Friendly</h3>
                    <p class="feature-description">
                        Simple HTML/CSS with optional JavaScript. Works with any framework or vanilla JS.
                    </p>
                </div>
            </div>

            <!-- Footer -->
            <footer class="page-footer">
                <div class="footer-content">
                    <div class="footer-section">
                        <h4>Documentation</h4>
                        <ul class="footer-links">
                            <li><a href="./getting-started.html"><i data-lucide="book-open"></i> Getting Started</a></li>
                            <li><a href="./api.html"><i data-lucide="code-2"></i> API Reference</a></li>
                            <li><a href="./tokens.html"><i data-lucide="palette"></i> Design Tokens</a></li>
                            <li><a href="./themes.html"><i data-lucide="paintbrush"></i> Themes</a></li>
                        </ul>
                    </div>
                    <div class="footer-section">
                        <h4>Components</h4>
                        <ul class="footer-links">
                            <li><a href="./demo.html"><i data-lucide="layout"></i> Browse All</a></li>
                            <li><a href="./showcase.html"><i data-lucide="grid-3x3"></i> Showcase</a></li>
                            <li><a href="./examples.html"><i data-lucide="file-code"></i> Examples</a></li>
                        </ul>
                    </div>
                    <div class="footer-section">
                        <h4>Resources</h4>
                        <ul class="footer-links">
                            <li><a href="https://github.com/ferology/aural-ui" target="_blank"><i data-lucide="github"></i> GitHub</a></li>
                            <li><a href="https://github.com/ferology/aural-ui/issues" target="_blank"><i data-lucide="bug"></i> Report Issue</a></li>
                            <li><a href="./contributing.html"><i data-lucide="heart"></i> Contributing</a></li>
                            <li><a href="./accessibility.html"><i data-lucide="accessibility"></i> Accessibility</a></li>
                        </ul>
                    </div>
                </div>
                <div class="footer-bottom">
                    <p>© 2026 Aural UI. Open source under MIT License.</p>
                </div>
            </footer>
        </div>
    </main>

    <!-- Theme Toggle -->
    <div class="theme-toggle">
        <button class="btn btn-secondary btn-sm" onclick="toggleTheme()">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="12" cy="12" r="5"/>
                <line x1="12" y1="1" x2="12" y2="3"/>
                <line x1="12" y1="21" x2="12" y2="23"/>
                <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/>
                <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/>
                <line x1="1" y1="12" x2="3" y2="12"/>
                <line x1="21" y1="12" x2="23" y2="12"/>
                <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/>
                <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/>
            </svg>
        </button>
    </div>

    <!-- Token Controller Modal -->
    <div class="modal-overlay" id="token-controller-modal">
        <div class="modal modal-lg">
            <div class="modal-header">
                <h3>Customize Tokens</h3>
                <button class="modal-close" onclick="Aural.closeModal('token-controller-modal')">×</button>
            </div>
            <div class="modal-body">
                <!-- Primary Color -->
                <div class="token-control-group">
                    <label class="token-control-label">
                        Primary Color
                        <span class="token-control-value" id="primaryColorValue">#5ebd8f</span>
                    </label>
                    <input type="color" class="token-control-input" id="primaryColor" value="#5ebd8f" onchange="updateToken('--color-primary', this.value, 'primaryColorValue')">
                </div>

                <!-- Border Radius -->
                <div class="token-control-group">
                    <label class="token-control-label">
                        Border Radius Scale
                        <span class="token-control-value" id="radiusScaleValue">1.0x</span>
                    </label>
                    <input type="range" class="token-control-input" id="radiusScale" min="0" max="2" step="0.1" value="1" oninput="updateRadiusScale(this.value)">
                </div>

                <!-- Spacing Scale -->
                <div class="token-control-group">
                    <label class="token-control-label">
                        Spacing Scale
                        <span class="token-control-value" id="spacingScaleValue">1.0x</span>
                    </label>
                    <input type="range" class="token-control-input" id="spacingScale" min="0.5" max="2" step="0.1" value="1" oninput="updateSpacingScale(this.value)">
                </div>

                <!-- Font Size Scale -->
                <div class="token-control-group">
                    <label class="token-control-label">
                        Font Size Scale
                        <span class="token-control-value" id="fontScaleValue">1.0x</span>
                    </label>
                    <input type="range" class="token-control-input" id="fontScale" min="0.75" max="1.5" step="0.05" value="1" oninput="updateFontScale(this.value)">
                </div>

                <!-- Success Color -->
                <div class="token-control-group">
                    <label class="token-control-label">
                        Success Color
                        <span class="token-control-value" id="successColorValue">#22c55e</span>
                    </label>
                    <input type="color" class="token-control-input" id="successColor" value="#22c55e" onchange="updateToken('--color-success', this.value, 'successColorValue')">
                </div>

                <!-- Warning Color -->
                <div class="token-control-group">
                    <label class="token-control-label">
                        Warning Color
                        <span class="token-control-value" id="warningColorValue">#f59e0b</span>
                    </label>
                    <input type="color" class="token-control-input" id="warningColor" value="#f59e0b" onchange="updateToken('--color-warning', this.value, 'warningColorValue')">
                </div>

                <!-- Error Color -->
                <div class="token-control-group">
                    <label class="token-control-label">
                        Error Color
                        <span class="token-control-value" id="errorColorValue">#ef4444</span>
                    </label>
                    <input type="color" class="token-control-input" id="errorColor" value="#ef4444" onchange="updateToken('--color-error', this.value, 'errorColorValue')">
                </div>

                <!-- Info Color -->
                <div class="token-control-group">
                    <label class="token-control-label">
                        Info Color
                        <span class="token-control-value" id="infoColorValue">#3b82f6</span>
                    </label>
                    <input type="color" class="token-control-input" id="infoColor" value="#3b82f6" onchange="updateToken('--color-info', this.value, 'infoColorValue')">
                </div>

                <!-- Shadow Intensity -->
                <div class="token-control-group">
                    <label class="token-control-label">
                        Shadow Intensity
                        <span class="token-control-value" id="shadowIntensityValue">1.0x</span>
                    </label>
                    <input type="range" class="token-control-input" id="shadowIntensity" min="0" max="2" step="0.1" value="1" oninput="updateShadowIntensity(this.value)">
                </div>

                <!-- Glow Intensity -->
                <div class="token-control-group">
                    <label class="token-control-label">
                        Glow Intensity
                        <span class="token-control-value" id="glowIntensityValue">1.0x</span>
                    </label>
                    <input type="range" class="token-control-input" id="glowIntensity" min="0" max="2" step="0.1" value="1" oninput="updateGlowIntensity(this.value)">
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="resetTokens()">Reset to Default</button>
                <button class="btn btn-primary" onclick="saveTokens(); Aural.closeModal('token-controller-modal')">Save & Close</button>
            </div>
        </div>
    </div>

    <!-- Aural UI JavaScript -->
    <script src="./aural-ui.js"></script>

    <script>
        // Initialize Lucide icons with retry mechanism
        function initLucideIcons() {
            console.log('Attempting to initialize Lucide icons...');
            console.log('Lucide available?', typeof lucide !== 'undefined');

            if (typeof lucide !== 'undefined' && lucide.createIcons) {
                try {
                    lucide.createIcons();
                    console.log('✓ Lucide icons initialized successfully');

                    // Verify icons were created
                    const icons = document.querySelectorAll('[data-lucide]');
                    console.log('Found', icons.length, 'icon elements');
                    icons.forEach(icon => {
                        console.log('Icon:', icon.getAttribute('data-lucide'), 'created:', icon.querySelector('svg') !== null);
                    });

                    return true;
                } catch (e) {
                    console.error('Error initializing Lucide:', e);
                    return false;
                }
            }
            console.log('Lucide not available yet');
            return false;
        }

        // Try multiple times with different strategies
        let attempts = 0;
        const maxAttempts = 10;

        function tryInit() {
            attempts++;
            if (initLucideIcons()) {
                console.log('Icons initialized on attempt', attempts);
            } else if (attempts < maxAttempts) {
                console.log('Retry attempt', attempts);
                setTimeout(tryInit, 100);
            } else {
                console.error('Failed to initialize Lucide after', maxAttempts, 'attempts');
            }
        }

        // Start trying
        tryInit();

        // Also try on DOM ready and window load
        document.addEventListener('DOMContentLoaded', function() {
            console.log('DOM ready, trying to init icons');
            initLucideIcons();
        });

        window.addEventListener('load', function() {
            console.log('Window loaded, trying to init icons');
            initLucideIcons();
        });

        // Theme toggle
        let isDark = true;
        function toggleTheme() {
            const themeLink = document.getElementById('theme-link');
            isDark = !isDark;
            themeLink.href = isDark ? './dark.css' : './light.css';
            localStorage.setItem('theme', isDark ? 'dark' : 'light');
        }

        // Load saved theme
        const savedTheme = localStorage.getItem('theme');
        if (savedTheme) {
            isDark = savedTheme === 'dark';
            document.getElementById('theme-link').href = isDark ? './dark.css' : './light.css';
        }

        // Token Controller
        const DEFAULT_TOKENS = {
            primaryColor: '#5ebd8f',
            successColor: '#22c55e',
            warningColor: '#f59e0b',
            errorColor: '#ef4444',
            infoColor: '#3b82f6',
            radiusScale: 1,
            spacingScale: 1,
            fontScale: 1,
            shadowIntensity: 1,
            glowIntensity: 1
        };

        const RADIUS_TOKENS = ['--radius-sm', '--radius-md', '--radius-lg', '--radius-xl', '--radius-2xl'];
        const RADIUS_VALUES = [4, 8, 12, 16, 24];

        const SPACING_TOKENS = ['--space-1', '--space-2', '--space-3', '--space-4', '--space-6', '--space-8', '--space-12', '--space-16'];
        const SPACING_VALUES = [4, 8, 12, 16, 24, 32, 48, 64];

        const FONT_TOKENS = ['--text-xs', '--text-sm', '--text-base', '--text-lg', '--text-xl', '--text-2xl', '--text-3xl'];
        const FONT_VALUES = [12, 14, 16, 18, 20, 24, 30];

        const SHADOW_SIZES = {
            xs: 2, sm: 3, md: 6, lg: 10, xl: 25, '2xl': 50
        };

        const GLOW_SIZES = {
            sm: 4, md: 8, lg: 16, xl: 24, '2xl': 32
        };

        // Update a single token
        function updateToken(tokenName, value, displayId) {
            document.documentElement.style.setProperty(tokenName, value);
            if (displayId) {
                document.getElementById(displayId).textContent = value;
            }
        }

        // Update radius scale
        function updateRadiusScale(scale) {
            scale = parseFloat(scale);
            document.getElementById('radiusScaleValue').textContent = scale.toFixed(1) + 'x';

            RADIUS_TOKENS.forEach((token, index) => {
                const value = Math.round(RADIUS_VALUES[index] * scale);
                document.documentElement.style.setProperty(token, value + 'px');
            });
        }

        // Update spacing scale
        function updateSpacingScale(scale) {
            scale = parseFloat(scale);
            document.getElementById('spacingScaleValue').textContent = scale.toFixed(1) + 'x';

            SPACING_TOKENS.forEach((token, index) => {
                const value = Math.round(SPACING_VALUES[index] * scale);
                document.documentElement.style.setProperty(token, value + 'px');
            });
        }

        // Update font scale
        function updateFontScale(scale) {
            scale = parseFloat(scale);
            document.getElementById('fontScaleValue').textContent = scale.toFixed(2) + 'x';

            FONT_TOKENS.forEach((token, index) => {
                const value = Math.round(FONT_VALUES[index] * scale);
                document.documentElement.style.setProperty(token, value + 'px');
            });
        }

        // Update shadow intensity
        function updateShadowIntensity(intensity) {
            intensity = parseFloat(intensity);
            document.getElementById('shadowIntensityValue').textContent = intensity.toFixed(1) + 'x';

            Object.entries(SHADOW_SIZES).forEach(([size, baseBlur]) => {
                const blur = Math.round(baseBlur * intensity);
                const spread = size === 'xs' ? 0 : Math.round((baseBlur / 4) * intensity);
                const offsetY = size === 'xs' ? 1 : Math.round((baseBlur / 3) * intensity);
                const opacity = 0.1 * intensity;

                document.documentElement.style.setProperty(
                    `--shadow-${size}`,
                    `0 ${offsetY}px ${blur}px ${spread}px rgba(0, 0, 0, ${Math.min(opacity, 0.25)})`
                );
            });
        }

        // Update glow intensity
        function updateGlowIntensity(intensity) {
            intensity = parseFloat(intensity);
            document.getElementById('glowIntensityValue').textContent = intensity.toFixed(1) + 'x';

            Object.entries(GLOW_SIZES).forEach(([size, baseBlur]) => {
                const blur = Math.round(baseBlur * intensity);
                const opacity = (size === 'sm' ? 0.5 : size === 'md' ? 0.6 : size === 'lg' ? 0.7 : size === 'xl' ? 0.8 : 0.9) * intensity;

                document.documentElement.style.setProperty(
                    `--glow-${size}`,
                    `0 0 ${blur}px rgba(255, 255, 255, ${Math.min(opacity, 1)})`
                );
            });

            ['primary', 'secondary', 'success', 'error', 'warning', 'info'].forEach(color => {
                Object.entries(GLOW_SIZES).forEach(([size, baseBlur]) => {
                    const blur = Math.round(baseBlur * intensity);
                    const opacity = (size === 'sm' ? 0.5 : size === 'md' ? 0.6 : size === 'lg' ? 0.7 : 0.8) * intensity;

                    const colorVar = `var(--color-${color})`;
                    document.documentElement.style.setProperty(
                        `--glow-${color}-${size}`,
                        `0 0 ${blur}px color-mix(in srgb, ${colorVar} ${Math.round(opacity * 100)}%, transparent)`
                    );
                });
            });
        }

        // Save tokens to localStorage
        function saveTokens() {
            const tokens = {
                primaryColor: document.getElementById('primaryColor').value,
                successColor: document.getElementById('successColor').value,
                warningColor: document.getElementById('warningColor').value,
                errorColor: document.getElementById('errorColor').value,
                infoColor: document.getElementById('infoColor').value,
                radiusScale: parseFloat(document.getElementById('radiusScale').value),
                spacingScale: parseFloat(document.getElementById('spacingScale').value),
                fontScale: parseFloat(document.getElementById('fontScale').value),
                shadowIntensity: parseFloat(document.getElementById('shadowIntensity').value),
                glowIntensity: parseFloat(document.getElementById('glowIntensity').value)
            };

            localStorage.setItem('auralTokens', JSON.stringify(tokens));
            Aural.showToast('Token preferences saved!', 'success');
        }

        // Reset tokens to default
        function resetTokens() {
            document.getElementById('primaryColor').value = DEFAULT_TOKENS.primaryColor;
            document.getElementById('successColor').value = DEFAULT_TOKENS.successColor;
            document.getElementById('warningColor').value = DEFAULT_TOKENS.warningColor;
            document.getElementById('errorColor').value = DEFAULT_TOKENS.errorColor;
            document.getElementById('infoColor').value = DEFAULT_TOKENS.infoColor;

            document.getElementById('radiusScale').value = DEFAULT_TOKENS.radiusScale;
            document.getElementById('spacingScale').value = DEFAULT_TOKENS.spacingScale;
            document.getElementById('fontScale').value = DEFAULT_TOKENS.fontScale;
            document.getElementById('shadowIntensity').value = DEFAULT_TOKENS.shadowIntensity;
            document.getElementById('glowIntensity').value = DEFAULT_TOKENS.glowIntensity;

            updateToken('--color-primary', DEFAULT_TOKENS.primaryColor, 'primaryColorValue');
            updateToken('--color-success', DEFAULT_TOKENS.successColor, 'successColorValue');
            updateToken('--color-warning', DEFAULT_TOKENS.warningColor, 'warningColorValue');
            updateToken('--color-error', DEFAULT_TOKENS.errorColor, 'errorColorValue');
            updateToken('--color-info', DEFAULT_TOKENS.infoColor, 'infoColorValue');

            updateRadiusScale(DEFAULT_TOKENS.radiusScale);
            updateSpacingScale(DEFAULT_TOKENS.spacingScale);
            updateFontScale(DEFAULT_TOKENS.fontScale);
            updateShadowIntensity(DEFAULT_TOKENS.shadowIntensity);
            updateGlowIntensity(DEFAULT_TOKENS.glowIntensity);

            localStorage.removeItem('auralTokens');
            Aural.showToast('Tokens reset to default', 'info');
        }

        // Load saved tokens on page load
        function loadSavedTokens() {
            const saved = localStorage.getItem('auralTokens');
            if (!saved) return;

            try {
                const tokens = JSON.parse(saved);

                if (tokens.primaryColor) {
                    document.getElementById('primaryColor').value = tokens.primaryColor;
                    updateToken('--color-primary', tokens.primaryColor, 'primaryColorValue');
                }
                if (tokens.successColor) {
                    document.getElementById('successColor').value = tokens.successColor;
                    updateToken('--color-success', tokens.successColor, 'successColorValue');
                }
                if (tokens.warningColor) {
                    document.getElementById('warningColor').value = tokens.warningColor;
                    updateToken('--color-warning', tokens.warningColor, 'warningColorValue');
                }
                if (tokens.errorColor) {
                    document.getElementById('errorColor').value = tokens.errorColor;
                    updateToken('--color-error', tokens.errorColor, 'errorColorValue');
                }
                if (tokens.infoColor) {
                    document.getElementById('infoColor').value = tokens.infoColor;
                    updateToken('--color-info', tokens.infoColor, 'infoColorValue');
                }

                if (tokens.radiusScale !== undefined) {
                    document.getElementById('radiusScale').value = tokens.radiusScale;
                    updateRadiusScale(tokens.radiusScale);
                }
                if (tokens.spacingScale !== undefined) {
                    document.getElementById('spacingScale').value = tokens.spacingScale;
                    updateSpacingScale(tokens.spacingScale);
                }
                if (tokens.fontScale !== undefined) {
                    document.getElementById('fontScale').value = tokens.fontScale;
                    updateFontScale(tokens.fontScale);
                }
                if (tokens.shadowIntensity !== undefined) {
                    document.getElementById('shadowIntensity').value = tokens.shadowIntensity;
                    updateShadowIntensity(tokens.shadowIntensity);
                }
                if (tokens.glowIntensity !== undefined) {
                    document.getElementById('glowIntensity').value = tokens.glowIntensity;
                    updateGlowIntensity(tokens.glowIntensity);
                }
            } catch (e) {
                console.error('Failed to load saved tokens:', e);
            }
        }

        // Load saved tokens on page load
        document.addEventListener('DOMContentLoaded', loadSavedTokens);
    </script>

    <script>

        // Auto-scroll active nav item into view
        document.addEventListener('DOMContentLoaded', function() {
            const activeLink = document.querySelector('.nav-link.active');
            if (activeLink) {
                // Scroll the active item into view with some offset
                setTimeout(() => {
                    activeLink.scrollIntoView({ behavior: 'smooth', block: 'center' });
                }, 100);
            }
        });

    </script>    <!-- Unified Theme Sync -->
    <script>
    (function() {
        // Sync theme from localStorage IMMEDIATELY
        const savedTheme = localStorage.getItem('theme') || 'dark';
        const themeLink = document.getElementById('theme-link');
        
        if (themeLink) {
            const isInComponents = window.location.pathname.includes('/components/');
            const relativePath = isInComponents ? '../' : './';
            const themePath = savedTheme === 'dark' ? relativePath + 'dark.css' : relativePath + 'light.css';
            
            console.log('Applying theme:', savedTheme, 'Path:', themePath);
            themeLink.href = themePath;
        } else {
            console.error('Theme link not found!');
        }

        // Hide theme toggle in iframe (demo.html controls theme)
        window.addEventListener('DOMContentLoaded', function() {
            try {
                if (window.self !== window.top) {
                    const themeToggle = document.querySelector('.theme-toggle');
                    if (themeToggle) {
                        themeToggle.style.display = 'none';
                    }
                }
            } catch (e) {}
        });
    })();
    </script>
</body>
</html>
